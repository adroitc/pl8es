<%= neon_modal :id => "design", :width => "678px", :title => t("menumalist.design_modal_title") do |m| %>
<%= form_tag({:controller => "ajax", :action => "editdesign"}, {:multipart => true, :role => "form", :class => "pl8es_c_ajaxform", :id => "form_design"}) do %>
<%=neon_modal_body do |b| %>
<div class="row" style="margin-bottom:14px;">
	<div class="col-sm-12">
		<div class="form-group">
      <label class="control-label">Colors</label>
  		<ul id="form-menu_color" class="ui-selectable" style="width:auto">
        <li class="col-sm-3 ui-selected" style="padding-top:15px;padding-bottom:15px;height:100px;">
          <div class="col-sm-6" style="background-color:#eee">test</div>
          <div class="col-sm-6">test</div>
          <div class="col-sm-6">test</div>
          <div class="col-sm-6">test</div>
        </li>
        <li class="col-sm-3" style="padding-top:15px;padding-bottom:15px;height:100px;">test</li>
        <li class="col-sm-3" style="padding-top:15px;padding-bottom:15px;height:100px;">test</li>
        <li class="col-sm-3" style="padding-top:15px;padding-bottom:15px;height:100px;">custom</li>
      </ul>
		</div>
	</div>
</div>
<div id="form-menu_color_custom" class="row">
  <div class="col-md-4">
  	<div class="form-group">
      <input class="icheck-2-radio" type="radio" id="form-background_type_color" name="background_type" value="color" <%="checked" if @user.background_type == "color" %>>
  		<label for="form-background_type_color" class="control-label"><%=t("menumalist.design_background_color") %></label>
			<div class="input-group">
				<div class="input-group-addon">
					<a href="#"><i class="color-preview"></i></a>
				</div>
				<input id="form-background" name="background" type="text" class="form-control colorpicker" data-format="hex" value="<%=@user.menuColor.background %>" placeholder="<%=t("neon.input_color_placeholder") %>" />
			</div>
  	</div>
  </div>
  <div class="col-md-6 col-md-offset-2">
  	<div class="form-group">
      <input class="icheck-2-radio" type="radio" id="form-background_type_image" name="background_type" value="image" <%="checked" if @user.background_type == "image" %>>
  		<label for="form-background_type_image" class="control-label"><%=t("menumalist.design_background_image") %></label>
      <br />
      <%=neon_imagecrop :image => @user.appmain_image %>
    </div>
  </div>
  <div class="col-md-4">
  	<div class="form-group">
  		<label for="form-bar_background" class="control-label"><%=t("menumalist.design_navigation_bar_color") %></label>
			<div class="input-group">
				<div class="input-group-addon">
					<a href="#"><i class="color-preview"></i></a>
				</div>
				<input id="form-bar_background" name="bar_background" type="text" class="form-control colorpicker" data-format="hex" value="<%=@user.menuColor.bar_background %>" placeholder="<%=t("neon.input_color_placeholder") %>" />
			</div>
  	</div>
  </div> 
  <div class="col-md-4">
  	<div class="form-group">
  		<label for="form-nav_text" class="control-label"><%=t("menumalist.design_navigation_text_color") %></label>
			<div class="input-group">
				<div class="input-group-addon">
					<a href="#"><i class="color-preview"></i></a>
				</div>
				<input id="form-nav_text" name="nav_text" type="text" class="form-control colorpicker" data-format="hex" value="<%=@user.menuColor.nav_text %>" placeholder="<%=t("neon.input_color_placeholder") %>" />
			</div>
  	</div>
  </div>
  <div class="col-md-4">
  	<div class="form-group">
  		<label for="form-nav_text_active" class="control-label"><%=t("menumalist.design_navigation_text_active_color") %></label>
			<div class="input-group">
				<div class="input-group-addon">
					<a href="#"><i class="color-preview"></i></a>
				</div>
				<input id="form-nav_text_active" name="nav_text_active" type="text" class="form-control colorpicker" data-format="hex" value="<%=@user.menuColor.nav_text_active %>" placeholder="<%=t("neon.input_color_placeholder") %>" />
			</div>
  	</div>
  </div>
</div>
<div class="row">
  <div class="col-md-4">
  	<div class="form-group">
  		<label class="control-label"><%=t("menumalist.design_font") %></label>
		  <select name="supportedFont_id" class="select2" data-allow-clear="false" data-placeholder="Select one city...">
        <% SupportedFont.all.each do |supportedFont| %>
        <option value="<%=supportedFont.id %>" <%="selected" if @user.supportedFont == supportedFont %>><%=supportedFont.title %></option>
        <% end %>
      </select>
  	</div>
  </div>
  <div class="col-md-6 col-md-offset-2">
  	<div class="form-group">
  		<label for="field-1" class="control-label"><%=t("menumalist.design_splashscreen_image") %></label>
      <br />
      <%=neon_imagecrop :image => @user.splashscreen_image %>
    </div>
  </div>
</div>
<script type="text/javascript">
$("#form-menu_color.ui-selectable").selectable({
  stop: function(event, id){
    $(event.target).children(".ui-selected").not(":first").removeClass("ui-selected");
    var s = $(this);
    if (s.parent().find("li").size()-s.parent().find("li").index(s.find(".ui-selected")) == 1){
      $("#form-menu_color_custom").show();
    }
    else{
      $("#form-menu_color_custom").hide();
    }
  }
});
</script>
<% end %>
<%=neon_modal_footer do |b| %>
<button type="button" class="btn btn-default" data-dismiss="modal"><%=t("menumalist.design_modal_cancel") %></button>
<button type="submit" class="btn btn-success"><%=t("menumalist.design_modal_submit") %></button>
<% end %>
<% end %>
<% end %>