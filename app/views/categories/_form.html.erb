<%= form_for [@menu, @category], remote: true do |f| %>
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
		<h4 class="modal-title"><%= t("menumalist.category.#{action_name}") %></h4>
		<ul class="nav nav-tabs">
			<% # generate the tabs from the languages %>
			<% @languages.each do |language| %>
				<li class="<%= :active if language == @default_language %>">
					<%= link_to "#category-form-#{language.locale}", :data => {:toggle => :tab} do %>
						<%= language.title.capitalize %>
						<%= "(" + t("language.default") + ")" if language == @default_language %>
					<% end %>
				</li>
			<% end %>
		</ul>
	</div>
	
	<div class="modal-body">
		<div class="row">
			<div class="col-sm-6 hidden-xs">
				<h4 class="margin-top-none"><%= t("forms.upload_image") %></h4>
					<%=render :partial => "neon/image_upload", :locals => {:instance_class => Category, :name => :image} %>
			</div>
			<div class="col-sm-6 tab-content">
				<% hold_locale = I18n.locale %>
				<% @languages.each do |language| %>
					<span class="tab-pane <%= "active" if @default_language == language %> form-group" id="category-form-<%= language.locale %>">
						<%= f.label "title_#{language.locale}", :class => "control-label" do %>
							<strong><%=t("menumalist.category.title") %></strong> - <%= language.title.capitalize %><%=" (Default)" if @default_language == language %>
						<% end %>
						<%= f.text_field "title_#{language.locale}", :class => "form-control", :id => "form-title[#{language.locale}]", :placeholder => t("menumalist.category.title_example") %>
					</span>
					<% # change the translation for the fields %>
					<% I18n.locale = language.locale %>
				<% end %>
				<% I18n.locale = hold_locale %>
				<label class="control-label"><strong><%=t("menumalist.category.design") %></strong></label>
				<div class="row">
					<div class="col-sm-6">
						<%= f.radio_button :style, :default, checked: @category.style == "default", class: "icheck-2-radio" %>
						<%= f.label :style, t("menumalist.category.design_default"), value: :default, class: 'icheck-2-radio' %>
					</div>
					<div class="col-sm-6">
						<%= f.radio_button :style, :grid, checked: @category.style == "grid", class: "icheck-2-radio" %>
						<%= f.label :style, t("menumalist.category.design_grid"), value: :grid, class: 'icheck-2-radio' %>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div class="modal-footer">
		<% # only display the destroy button on edit %>
		<%= render :file => "modals/delete", :locals => {:destroy_link => menu_category_path(@menu, @category)} if action_name == "edit" %>
		
		<button type="button" class="btn btn-default" data-dismiss="modal"><%=t("forms.cancel") %></button>
		<%= f.button :type => "submit", :class => "btn btn-info icon-left" do %>
			<% if action_name == "new" %>
				<i class="entypo-plus"></i>
			<% end %>
			<%= t("menumalist.menu.#{action_name}") %>
		<% end %>
	</div>
					
<% end %>